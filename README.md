# ğŸŒŸ StarSorty

> **ä¸å†è®©ä½ çš„ GitHub Star åƒç°ã€‚**  
> ä¸€ä¸ªè‡ªæ‰˜ç®¡çš„ GitHub Star æ™ºèƒ½ç®¡ç†ç³»ç»Ÿï¼Œåˆ©ç”¨ AI è‡ªåŠ¨åˆ†ç±»ã€ç”Ÿæˆæ‘˜è¦ï¼Œæ„å»ºä½ çš„ç§äººä»£ç çŸ¥è¯†åº“ã€‚

---

## ç›®å½•

- [å…³äºæœ¬é¡¹ç›®](#-å…³äºæœ¬é¡¹ç›®)
- [æ ¸å¿ƒåŠŸèƒ½](#-æ ¸å¿ƒåŠŸèƒ½)
- [ç³»ç»Ÿæ¶æ„](#ï¸-ç³»ç»Ÿæ¶æ„)
- [ç•Œé¢é¢„è§ˆ](#-ç•Œé¢é¢„è§ˆ)
- [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [ä½¿ç”¨æŒ‡å—](#-ä½¿ç”¨æŒ‡å—)
- [æœ¬åœ°å¼€å‘](#-æœ¬åœ°å¼€å‘)
- [Roadmap](#-roadmap)
- [License](#-license)

---

## ğŸ“– å…³äºæœ¬é¡¹ç›®

ä½œä¸ºå¼€å‘è€…ï¼Œæˆ‘ä»¬ç»å¸¸ä¼š Star å¾ˆå¤šæœ‰è¶£çš„é¡¹ç›®ï¼Œä½†éšç€æ—¶é—´æ¨ç§»ï¼Œè¿™äº› Star å¾€å¾€å˜æˆäº†ä¸€ä¸ª**å·¨å¤§ã€éš¾ä»¥æ£€ç´¢çš„â€œé»‘æ´â€**ã€‚æˆ‘ä»¬ç»å¸¸é‡åˆ°è¿™æ ·çš„æƒ…å†µï¼šâ€œæˆ‘è®°å¾—ä¸Šä¸ªæœˆæ”¶è—äº†ä¸€ä¸ªå¾ˆå¥½ç”¨çš„ Python çˆ¬è™«åº“ï¼Œå«ä»€ä¹ˆæ¥ç€ï¼Ÿâ€

**StarSorty** æ—¨åœ¨è§£å†³è¿™ä¸ªé—®é¢˜ã€‚å®ƒä¸ä»…ä»…æ˜¯ä¸€ä¸ªåŒæ­¥å·¥å…·ï¼Œè€Œæ˜¯ä¸€ä¸ª**æ™ºèƒ½åŒ–çš„çŸ¥è¯†ç®¡ç†ç®¡é“**ã€‚

### æ ¸å¿ƒå·¥ä½œæµ

1. **è‡ªåŠ¨åŒæ­¥**ï¼šåå°é™é»˜æ‹‰å–ä½ çš„ GitHub Star æ•°æ®ã€‚
2. **AI åˆ†æ**ï¼šè°ƒç”¨ LLMï¼ˆOpenAI/Claude/DeepSeekï¼‰æ·±åº¦é˜…è¯»é¡¹ç›®çš„ READMEã€‚
3. **ç»“æ„åŒ–è¾“å‡º**ï¼šè‡ªåŠ¨åˆ¤æ–­é¡¹ç›®åˆ†ç±»å¹¶æ‰“ä¸ŠæŠ€æœ¯æ ˆæ ‡ç­¾ï¼Œç”Ÿæˆä¸€å¥è¯æ‘˜è¦ã€‚
4. **å¯è§†åŒ–ç®¡ç†**ï¼šé€šè¿‡ç°ä»£åŒ–çš„ Web UI è¿›è¡Œæ£€ç´¢å’Œæµè§ˆã€‚

---

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

- ğŸ”„ **å…¨è‡ªåŠ¨åŒæ­¥**ï¼šå†…ç½® Crontab è°ƒåº¦å™¨ï¼Œå®šæ—¶å¢é‡åŒæ­¥ï¼Œæ— éœ€äººå·¥å¹²é¢„ã€‚
- ğŸ¤– **å¤šæ¨¡å‹ AI æ”¯æŒ**ï¼š
  - åŸç”Ÿæ”¯æŒ OpenAIï¼ˆGPT-4o ç­‰ï¼‰ä¸ Anthropicï¼ˆClaude 3.5ï¼‰ã€‚
  - å®Œå…¨å…¼å®¹ OpenAI æ ¼å¼çš„ç¬¬ä¸‰æ–¹æ¨¡å‹ï¼ˆDeepSeekã€GLMã€Moonshotã€OneAPIï¼‰ã€‚
- ğŸ·ï¸ **æ™ºèƒ½åˆ†ç±»ä¸æ‘˜è¦**ï¼šè‡ªåŠ¨ç”Ÿæˆå¤šçº§åˆ†ç±»ã€æŠ€æœ¯æ ˆæ ‡ç­¾å’Œä¸­æ–‡æ‘˜è¦ã€‚
- ğŸ” **æ·±åº¦æ£€ç´¢**ï¼šæŒ‰è¯­è¨€ã€åˆ†ç±»ã€æ ‡ç­¾ç­›é€‰ï¼Œæ”¯æŒå…¨æ–‡å…³é”®è¯æœç´¢ã€‚
- ğŸ“ **äººå·¥å¹²é¢„æœºåˆ¶**ï¼šæ”¯æŒæ‰‹åŠ¨è¦†ç›– AI åˆ†ç±»å¹¶è®°å½•ä¿®æ”¹å†å²ã€‚
- ğŸ³ **éšç§è‡³ä¸Š**ï¼šDocker ç§æœ‰åŒ–éƒ¨ç½²ï¼Œæ•°æ®å®Œå…¨æŒæ¡åœ¨è‡ªå·±æ‰‹ä¸­ã€‚

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

StarSorty é‡‡ç”¨ç»å…¸çš„å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œé€šè¿‡ Docker Compose ä¸€é”®ç¼–æ’ã€‚

```mermaid
graph TD
    User((User)) -->|Browser| Web["Web UI (Next.js)"]
    Web -->|API Req| API["Backend API (FastAPI)"]

    subgraph "Core Services"
        API -->|Read/Write| DB[(SQLite)]
        API -->|Sync| GitHub[GitHub API]
        API -->|Classify| LLM[AI Provider]
        Scheduler[Scheduler] -->|Trigger| API
    end

    subgraph "AI Providers"
        LLM -.-> OpenAI
        LLM -.-> Anthropic
        LLM -.-> Custom[Custom/Local LLM]
    end
```

- **Frontend**: Next.jsï¼ˆSSG + Client Side Fetchingï¼‰ï¼Œæä¾›æé€Ÿçš„é™æ€é¡µé¢ä½“éªŒã€‚
- **Backend**: FastAPIï¼ˆPythonï¼‰ï¼Œå¤„ç†é«˜å¹¶å‘çš„åŒæ­¥é€»è¾‘å’Œ AI è¯·æ±‚ã€‚
- **Database**: SQLiteï¼Œå•æ–‡ä»¶å­˜å‚¨ï¼Œè½»é‡çº§ï¼Œæ˜“äºå¤‡ä»½å’Œè¿ç§»ã€‚
- **Scheduler**: å†…ç½®å®šæ—¶ä»»åŠ¡ç³»ç»Ÿï¼Œç¡®ä¿æ•°æ®å‡†å®æ—¶åŒæ­¥ã€‚

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

æ¨èä½¿ç”¨ Docker éƒ¨ç½²ï¼Œç¡®ä¿å·²å®‰è£… Docker å’Œ Docker Composeã€‚

### 1. å…‹éš†ä»“åº“

```bash
git clone https://github.com/aliom-v/StarSorty.git
cd StarSorty
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

```bash
cp .env.example .env
```

ç¼–è¾‘ `.env`ï¼Œè‡³å°‘é…ç½®ä»¥ä¸‹å†…å®¹ï¼š

```env
# --- åŸºç¡€é…ç½® ---
# ä½ çš„ GitHub ç”¨æˆ·å
GITHUB_USERNAME=your_name

# GitHub Token (åœ¨ Developer Settings -> Personal Access Tokens ç”³è¯·)
# åªéœ€è¦ public_repo æƒé™å³å¯
GITHUB_TOKEN=ghp_xxxxxxxxxxxxxxxxx

# ç®¡ç†å‘˜ Token (ç”¨äºä¿æŠ¤æ‰‹åŠ¨è§¦å‘åŒæ­¥ç­‰å†™æ“ä½œæ¥å£)
ADMIN_TOKEN=your_secure_password
```

### 3. é…ç½® AI æ¨¡å‹ï¼ˆä¸‰é€‰ä¸€ï¼‰

**æ–¹æ¡ˆ A: OpenAI**

```env
AI_PROVIDER=openai
AI_API_KEY=sk-xxxx
AI_MODEL=gpt-4o-mini
```

**æ–¹æ¡ˆ B: Anthropic (Claude)**

```env
AI_PROVIDER=anthropic
AI_API_KEY=sk-ant-xxxx
AI_MODEL=claude-3-haiku-20240307
```

**æ–¹æ¡ˆ C: DeepSeek / å…¶ä»–å…¼å®¹æ¨¡å‹ï¼ˆæ¨èå›½å†…ç”¨æˆ·ï¼‰**

```env
AI_PROVIDER=custom
# ä½ çš„ API Base URL (æ³¨æ„ç»“å°¾é€šå¸¸åŒ…å« /v1)
AI_BASE_URL=https://api.deepseek.com/v1
AI_API_KEY=sk-xxxx
AI_MODEL=deepseek-chat
```

### 4. å¯åŠ¨æœåŠ¡

```bash
docker compose up -d
```

å¯åŠ¨æˆåŠŸåè®¿é—®ï¼š

- Web ç•Œé¢: http://localhost:1234
- API æ–‡æ¡£: http://localhost:4321/docs

---

## ğŸ› ï¸ ä½¿ç”¨æŒ‡å—

### 1. é¦–æ¬¡æ•°æ®åŒæ­¥

æœåŠ¡å¯åŠ¨åï¼Œåå°è°ƒåº¦å™¨ä¼šæ ¹æ® `CRON_SCHEDULE` è‡ªåŠ¨è¿è¡Œã€‚è‹¥éœ€ç«‹å³åŒæ­¥ï¼š

```bash
curl -X POST "http://localhost:4321/sync" \
  -H "X-Admin-Token: <ä½ è®¾ç½®çš„ADMIN_TOKEN>"
```

### 2. è§¦å‘ AI åˆ†ç±»

åŒæ­¥å®Œæˆåï¼Œè§¦å‘ AI åˆ†ç±»ä»»åŠ¡ï¼š

```bash
curl -X POST "http://localhost:4321/classify/background" \
  -H "Content-Type: application/json" \
  -H "X-Admin-Token: <ä½ è®¾ç½®çš„ADMIN_TOKEN>" \
  -d '{"limit": 50, "concurrency": 3}'
```

### 3. æŸ¥çœ‹çŠ¶æ€

```bash
curl "http://localhost:4321/classify/status"
```

---

## ğŸ’» æœ¬åœ°å¼€å‘

### åç«¯ (Python/FastAPI)

```bash
cd api
python -m venv .venv
# Windows: .venv\Scripts\activate | Mac/Linux: source .venv/bin/activate
pip install -r requirements.txt

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
uvicorn main:app --reload --port 4321
```

### å‰ç«¯ (Next.js)

```bash
cd web
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
# è®¿é—® http://localhost:3000
```

---

## ğŸ“„ License

æœ¬é¡¹ç›®é‡‡ç”¨ MIT License å¼€æºã€‚
